<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <style>
body {
    background: linear-gradient(135deg, #00366b 0%, #002447 100%);
    padding-top: 50px;
}
.card {
    border-radius: 10px;
}
.card-body {
    padding: 2rem;
}
.card-title {
    margin-bottom: 1.5rem;
}
.btn-primary {
    background-color: #00366b;
    border-color: #00366b;
}
.btn-primary:hover {
    background-color: #4e73f4;
    border-color: #4e73f4;
} 
    </style>
</head>
<body onload="check_signout();">
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-lg-6 col-md-8 col-sm-12">
                <div class="card shadow-lg">
                    <div class="card-body">
                        <h3 class="card-title text-center mb-4">Login</h3>
                            <div class="mb-3">
                                <label for="vorname" class="form-label">Vorname</label>
                                <input 
                                    type="text" 
                                    class="form-control" 
                                    id="vorname" 
                                    placeholder="Max" 
                                    required
                                />
                                <div class="form-text">Bitte geben Sie Ihren Vornamen ein.</div>
                            </div>
                            <div class="mb-3">
                                <label for="nachname" class="form-label">Nachname</label>
                                <input 
                                    type="text" 
                                    class="form-control" 
                                    id="nachname" 
                                    placeholder="Mustermann" 
                                    required
                                />
                                <div class="form-text">Bitte geben Sie Ihren Nachnamen ein.</div>
                            </div>
                            <div class="text-center">
                                <button id="submit" class="btn btn-primary btn-lg">Login</button>
                                <div id="formFeedback" class="mt-3"></div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
document.getElementById('submit').addEventListener('click', function(event) {

    const vorname = document.getElementById('vorname');
    const nachname = document.getElementById('nachname');
    const formFeedback = document.getElementById('formFeedback');

    formFeedback.innerHTML = ''; // Clear previous messages

    let valid = true;

    if (!vorname.value.trim()) {
        vorname.classList.add('is-invalid');
        formFeedback.innerHTML += '<p class="text-danger">Vorname ist ein Pflichtfeld.</p>';
        valid = false;
    } else {
        vorname.classList.remove('is-invalid');
    }

    if (!nachname.value.trim()) {
        nachname.classList.add('is-invalid');
        formFeedback.innerHTML += '<p class="text-danger">Nachname ist ein Pflichtfeld.</p>';
        valid = false;
    } else {
        nachname.classList.remove('is-invalid');
    }

    if (valid) {
        formFeedback.innerHTML = '<p class="text-success">Sie sind eingeloggt!</p>';
        document.cookie = `name=${vorname.value} ${nachname.value}; path=/;`; 
        const delay = ms => new Promise(res => setTimeout(res, ms));
        const redirect = async () => {
            await delay(1000);
            window.location.href = "/";
        };
        redirect();
    }
});
function check_signout() {
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const signout = urlParams.has('signout');
    if (signout) {
        document.cookie = "name=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
        const formFeedback = document.getElementById('formFeedback');
        formFeedback.innerHTML = '<p class="text-success">Sie wurden erfolgreich ausgeloggt.</p>';
        window.history.pushState({}, document.title, window.location.pathname);
    }
}
    </script>
</body>
</html>
